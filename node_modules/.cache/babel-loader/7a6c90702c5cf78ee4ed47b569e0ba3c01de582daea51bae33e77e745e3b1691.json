{"ast":null,"code":"import _toConsumableArray from\"/Users/sahiltomar/Desktop/10x Academy/sa/apple/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/sahiltomar/Desktop/10x Academy/sa/apple/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/sahiltomar/Desktop/10x Academy/sa/apple/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/sahiltomar/Desktop/10x Academy/sa/apple/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sahiltomar/Desktop/10x Academy/sa/apple/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import DataService from\"../services/services\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productsInfo=_useState2[0],setproductsInfo=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),phrase=_useState4[0],setphrase=_useState4[1];useEffect(function(){fetchProducts();},[]);var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return DataService.getAllProducts();case 2:data=_context.sent;setproductsInfo(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var products;var p=phrase.toLowerCase();if(p){products=productsInfo.filter(function(p){return p.name.toLowerCase().includes(phrase);});}else{products=productsInfo;}var categoriesNames=_toConsumableArray(new Set(productsInfo.map(function(p){return p.category;})));return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"px-5 pb-5 flex flex-col min-h-screen mb-20\",children:categoriesNames.map(function(categoryName){return/*#__PURE__*/_jsx(\"div\",{children:products.find(function(p){return p.category===categoryName;})&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl py-5 capitalize\",children:categoryName}),/*#__PURE__*/_jsx(\"div\",{className:\"flex -mx-5 overflow-x-scroll snap-x scrollbar-hide\",children:products.filter(function(p){return p.category===categoryName;}).map(function(productInfo){return/*#__PURE__*/_jsx(\"div\",{className:\"px-5 snap-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-52 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-5 rounded-xl\",children:/*#__PURE__*/_jsx(\"img\",{src:productInfo.picture,alt:productInfo.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold capitalize\",children:productInfo.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm mt-1 leading-4 text-gray-500 h-20 overflow-scroll\",children:productInfo.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold grow \",children:productInfo.price}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-emerald-400 text-white py-1 px-3 rounded-xl\",children:\"+\"})]})]})},productInfo.id);})})]})},categoryName);})})});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","DataService","Home","productsInfo","setproductsInfo","phrase","setphrase","fetchProducts","getAllProducts","data","docs","map","doc","id","products","p","toLowerCase","filter","name","includes","categoriesNames","Set","category","categoryName","find","productInfo","picture","description","price"],"sources":["/Users/sahiltomar/Desktop/10x Academy/sa/apple/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport DataService from \"../services/services\";\n\nconst Home = () => {\n  const [productsInfo, setproductsInfo] = useState([])\n  const [phrase,setphrase] = useState('')\n\n  useEffect(() => {\n    fetchProducts()\n\n  }, [])\n  const fetchProducts = async () => {\n    const data = await DataService.getAllProducts(); \n    setproductsInfo(data.docs.map((doc)=>({...doc.data(),id: doc.id})))\n    \n  }\n\n  let products;\n  let p = phrase.toLowerCase();\n  if(p){\n    products = productsInfo.filter(p => p.name.toLowerCase().includes(phrase));\n  }else{\n    products = productsInfo;\n  }\n\n  const categoriesNames = [...new Set(productsInfo.map((p) => p.category))]\n  return (\n    <div>\n     <div className=\"px-5 pb-5 flex flex-col min-h-screen mb-20\">\n      {categoriesNames.map(categoryName => (\n        <div key={categoryName}>\n          {products.find(p => p.category === categoryName) && (\n            <div>\n              <h2 className=\"text-2xl py-5 capitalize\">{categoryName}</h2>\n              <div className=\"flex -mx-5 overflow-x-scroll snap-x scrollbar-hide\">\n                {products.filter(p => p.category === categoryName).map(productInfo => (\n                  <div className=\"px-5 snap-start\" key={productInfo.id}>\n                    <div className=\"w-52 flex flex-col\">\n                      <div className=\"bg-blue-100 p-5 rounded-xl\">\n                        <img src={productInfo.picture} alt={productInfo.name}/>\n                      </div>\n                      <div className=\"mt-2\">\n                        <h3 className=\"font-bold capitalize\">{productInfo.name}</h3>\n                      </div>\n                      <div className='text-sm mt-1 leading-4 text-gray-500 h-20 overflow-scroll'>\n                       {productInfo.description}\n                      </div>\n                      <div className=\"flex mt-1\">\n                        <div className=\"text-2xl font-bold grow \">{productInfo.price}</div>\n                        <button className=\"bg-emerald-400 text-white py-1 px-3 rounded-xl\">+</button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      ))}\n     </div>\n    </div>\n\n  )\n}\n\nexport default Home\n"],"mappings":"2qBAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,YAAW,KAAM,sBAAsB,CAAC,wFAE/C,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,cAAwCF,QAAQ,CAAC,EAAE,CAAC,wCAA7CG,YAAY,eAAEC,eAAe,eACpC,eAA2BJ,QAAQ,CAAC,EAAE,CAAC,yCAAhCK,MAAM,eAACC,SAAS,eAEvBP,SAAS,CAAC,UAAM,CACdQ,aAAa,EAAE,CAEjB,CAAC,CAAE,EAAE,CAAC,CACN,GAAMA,cAAa,4FAAG,mKACDN,YAAW,CAACO,cAAc,EAAE,QAAzCC,IAAI,eACVL,eAAe,CAACK,IAAI,CAACC,IAAI,CAACC,GAAG,CAAC,SAACC,GAAG,wCAAQA,GAAG,CAACH,IAAI,EAAE,MAACI,EAAE,CAAED,GAAG,CAACC,EAAE,IAAE,CAAC,CAAC,sDAEpE,kBAJKN,cAAa,0CAIlB,CAED,GAAIO,SAAQ,CACZ,GAAIC,EAAC,CAAGV,MAAM,CAACW,WAAW,EAAE,CAC5B,GAAGD,CAAC,CAAC,CACHD,QAAQ,CAAGX,YAAY,CAACc,MAAM,CAAC,SAAAF,CAAC,QAAIA,EAAC,CAACG,IAAI,CAACF,WAAW,EAAE,CAACG,QAAQ,CAACd,MAAM,CAAC,GAAC,CAC5E,CAAC,IAAI,CACHS,QAAQ,CAAGX,YAAY,CACzB,CAEA,GAAMiB,gBAAe,oBAAO,GAAIC,IAAG,CAAClB,YAAY,CAACQ,GAAG,CAAC,SAACI,CAAC,QAAKA,EAAC,CAACO,QAAQ,GAAC,CAAC,CAAC,CACzE,mBACE,kCACC,YAAK,SAAS,CAAC,4CAA4C,UACzDF,eAAe,CAACT,GAAG,CAAC,SAAAY,YAAY,qBAC/B,qBACGT,QAAQ,CAACU,IAAI,CAAC,SAAAT,CAAC,QAAIA,EAAC,CAACO,QAAQ,GAAKC,YAAY,GAAC,eAC9C,oCACE,WAAI,SAAS,CAAC,0BAA0B,UAAEA,YAAY,EAAM,cAC5D,YAAK,SAAS,CAAC,oDAAoD,UAChET,QAAQ,CAACG,MAAM,CAAC,SAAAF,CAAC,QAAIA,EAAC,CAACO,QAAQ,GAAKC,YAAY,GAAC,CAACZ,GAAG,CAAC,SAAAc,WAAW,qBAChE,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,aAAK,SAAS,CAAC,oBAAoB,wBACjC,YAAK,SAAS,CAAC,4BAA4B,uBACzC,YAAK,GAAG,CAAEA,WAAW,CAACC,OAAQ,CAAC,GAAG,CAAED,WAAW,CAACP,IAAK,EAAE,EACnD,cACN,YAAK,SAAS,CAAC,MAAM,uBACnB,WAAI,SAAS,CAAC,sBAAsB,UAAEO,WAAW,CAACP,IAAI,EAAM,EACxD,cACN,YAAK,SAAS,CAAC,2DAA2D,UACxEO,WAAW,CAACE,WAAW,EACnB,cACN,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,0BAA0B,UAAEF,WAAW,CAACG,KAAK,EAAO,cACnE,eAAQ,SAAS,CAAC,gDAAgD,UAAC,GAAC,EAAS,GACzE,GACF,EAf8BH,WAAW,CAACZ,EAAE,CAgB9C,EACP,CAAC,EACE,GAET,EA1BOU,YAAY,CA2BhB,EACP,CAAC,EACG,EACD,CAGV,CAAC,CAED,cAAerB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}